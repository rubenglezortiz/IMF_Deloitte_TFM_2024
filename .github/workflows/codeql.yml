name: "CodeQL Analysis"

on: # Cuándo se ejecuta el workflow
  push:
    branches: [main] # Analiza cambios en la rama principal
  pull_request:
    branches: [main] # Analiza las solicitudes de extracción
  
jobs:
  analyze:
    name: Analyze Code
    runs-on: ubuntu-latest # Configuración del entorno

    steps:
    # Paso 1: Descargar el repositorio
    - name: Checkout repository
      uses: actions/checkout@v4

    # Paso 2: Inicializar CodeQL
    - name: Initialize CodeQL
      uses: github/codeql-action/init@v2
      with:
        languages: cpp # Idioma a analizar
        # Rutas específicas dentro del repositorio
        paths: PaintLess/Assets/components 

    # Paso 3: Ejecutar el análisis
    - name: Perform CodeQL Analysis
      uses: github/codeql-action/analyze@v2
      with:
        category: "/language:cpp"
